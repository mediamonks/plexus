{
	"/invoke": {
		"methods": {
			"post": {
				"summary": "Invokes an agent pipeline",
				"handler": "invoke",
				"payload": {
					"languageId": {
						"type": "string",
						"description": "The ID of the language to use",
						"enum": [
							"en-us",
							"fr-fr"
						],
						"default": "en-us"
					},
					"threadId": {
						"type": "string",
						"description": "The ID of the conversation thread to continue"
					},
					"config": {
						"type": "object",
						"description": "Runtime configuration overrides."
					}
				},
				"response": {
					"type": "object",
					"properties": {
						"error": {
							"type": "string",
							"description": "Error message if applicable, otherwise null."
						},
						"threadId": {
							"type": "string",
							"format": "uuid",
							"description": "Unique identifier for the thread."
						}
					}
				}
			}
		}
	},
	"/fields/{field}": {
		"parameters": {
			"field": {
				"description": "The name of the field",
				"type": "string"
			}
		},
		"methods": {
			"get": {
				"summary": "Retrieve Field Options",
				"description": "Returns available options for a given field",
				"handler": "fields",
				"response": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"description": "Field ID"
							},
							"label": {
								"type": "string",
								"description": "Field label"
							},
							"description": {
								"type": "string",
								"description": "Field description"
							}
						}
					}
				}
			}
		}
	},
	"/thread/{threadId}": {
		"parameters": {
			"threadId": {
				"description": "The ID of the thread to retrieve",
				"type": "string"
			}
		},
		"methods": {
			"get": {
				"summary": "Retrieve Conversation Thread",
				"description": "Retrieves a thread containing its conversation history and input and output of the last interaction",
				"handler": "thread",
				"response": {
					"type": "object",
					"properties": {
						"history": {
							"type": "array",
							"description": "The conversation history."
						},
						"context": {
							"type": "object",
							"description": "Context used for last generation."
						},
						"copy": {
							"type": "string",
							"description": "Output copy of last generation."
						}
					}
				}
			}
		}
	},
	"/ingest/{namespace}": {
		"parameters": {
			"namespace": {
				"description": "The namespace for which to ingest data",
				"type": "string"
			}
		},
		"methods": {
			"post": {
				"summary": "Ingest data sources",
				"description": "Ingest all static data sources for the given namespace",
				"handler": "ingest",
				"payload": {
					"config": {
						"type": "object",
						"description": "Runtime configuration overrides."
					}
				}
			}
		}
	},
	"/delegate": {
		"hidden": true,
		"methods": {
			"post": {
				"handler": "delegate"
			}
		}
	},
	"/config": {
		"methods": {
			"get": {
				"summary": "Retrieve Default Config",
				"description": "Returns default configuration",
				"handler": "config",
				"response": {
					"type": "object"
				}
			}
		}
	}
}
